<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>首页 - 老年人智能陪伴机器人</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/tailwindcss/2.2.19/tailwind.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="../css/main.css">
    <style>
        .welcome-header {
            background-color: var(--primary-blue);
            padding: var(--spacing-lg);
            border-radius: var(--radius-lg);
            margin-bottom: var(--spacing-lg);
            box-shadow: var(--shadow-card);
        }
        
        .feature-card {
            display: flex;
            align-items: center;
            background-color: white;
            border-radius: var(--radius-md);
            padding: var(--spacing-md);
            margin-bottom: var(--spacing-md);
            box-shadow: var(--shadow-card);
            transition: transform 0.3s ease;
        }
        
        .feature-card:active {
            transform: scale(1.05);
        }
        
        .feature-icon {
            background-color: var(--primary-orange);
            color: white;
            width: 5rem;
            height: 5rem;
            border-radius: var(--radius-full);
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: var(--spacing-md);
            flex-shrink: 0;
        }
        
        .feature-icon i {
            font-size: 2.5rem;
        }
        
        .feature-text {
            flex-grow: 1;
        }
        
        .feature-title {
            font-size: var(--font-normal);
            font-weight: bold;
            margin-bottom: 0.5rem;
        }
        
        .feature-desc {
            font-size: var(--font-small);
            color: #666;
        }

        .weather-card {
            background-color: #e6f7ff;
            border-radius: var(--radius-md);
            padding: var(--spacing-md);
            margin-bottom: var(--spacing-md);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .weather-today {
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .weather-temp {
            font-size: 3rem;
            font-weight: bold;
        }

        .weather-icon {
            font-size: 3.5rem;
            color: var(--primary-orange);
        }
    </style>
</head>
<body>
    <!-- iOS状态栏 -->
    <div class="status-bar" role="banner">
        <div>9:41</div>
        <div>
            <i class="fas fa-signal"></i>
            <i class="fas fa-wifi"></i>
            <i class="fas fa-battery-full"></i>
        </div>
    </div>
    
    <!-- 主内容区域 -->
    <div class="main-container">
        <!-- 功能快捷区 -->
        <div class="card" style="padding: 1.5rem 1rem; margin-bottom: var(--spacing-lg);">
            <div style="display: flex; justify-content: space-around; align-items: center; gap: 1rem;">
                <!-- 电量按钮 -->
                <div style="display: flex; flex-direction: column; align-items: center;">
                    <div style="margin-bottom: 0.8rem; display: flex; align-items: center; justify-content: center;">
                        <i class="fas fa-battery-three-quarters" style="font-size: 4rem; color: #666;"></i>
                    </div>
                    <span style="color: #999; font-size: 1.4rem;">电量</span>
                </div>
                
                <!-- 滑动解锁按钮 -->
                <div style="display: flex; flex-direction: column; align-items: center; width: 70%;">
                    <div style="width: 100%; height: 5rem; background-color: #f0f0f0; border-radius: 2.5rem; display: flex; align-items: center; position: relative; margin-bottom: 0.8rem; box-shadow: inset 0 0 5px rgba(0,0,0,0.1);">
                        <div style="position: absolute; left: 0.5rem; width: 4rem; height: 4rem; background-color: #9ca3af; border-radius: 50%; display: flex; align-items: center; justify-content: center; transition: all 0.3s ease;">
                            <i class="fas fa-unlock-alt" style="font-size: 2rem; color: white;"></i>
                        </div>
                    </div>
                    <span style="color: #999; font-size: 1.4rem;">滑动解锁</span>
                </div>
            </div>
        </div>
        
        <!-- 日期信息 -->
        <div class="welcome-header" style="background-color: #E8F4FC; margin-bottom: var(--spacing-lg);">
            <p style="font-size: var(--font-normal); margin: 0;">今天是 2023年11月15日 星期三</p>
        </div>
        
        <!-- 天气卡片 -->
        <div class="weather-card">
            <div>
                <div style="font-size: var(--font-normal); font-weight: bold;">今日天气</div>
                <div style="font-size: var(--font-small);">北京市 · 晴</div>
            </div>
            <div class="weather-today">
                <div class="weather-temp">23°</div>
                <i class="fas fa-sun weather-icon"></i>
            </div>
        </div>

        <!-- 待办提醒 -->
        <div class="card" style="border-left: 0.5rem solid var(--alert-yellow);">
            <div style="display: flex; justify-content: space-between; align-items: center;">
                <div>
                    <div style="font-size: var(--font-normal); font-weight: bold; color: var(--primary-orange);">用药提醒</div>
                    <div style="font-size: var(--font-small);">今天 12:00 · 降压药</div>
                </div>
                <div style="width: 3rem; height: 3rem; background-color: var(--alert-yellow); border-radius: 50%; display: flex; align-items: center; justify-content: center;">
                    <i class="fas fa-pills" style="font-size: 1.5rem; color: var(--primary-orange);"></i>
                </div>
            </div>
        </div>
        
        <!-- 功能区 -->
        <h2 class="subtitle" style="margin-top: var(--spacing-lg);">快速访问</h2>
        
        <a href="video-call.html" class="feature-card" aria-label="视频通话">
            <div class="feature-icon">
                <i class="fas fa-video"></i>
            </div>
            <div class="feature-text">
                <div class="feature-title">视频通话</div>
                <div class="feature-desc">与家人朋友视频聊天</div>
            </div>
        </a>
        
        <a href="health.html" class="feature-card" aria-label="健康管理">
            <div class="feature-icon">
                <i class="fas fa-heartbeat"></i>
            </div>
            <div class="feature-text">
                <div class="feature-title">健康管理</div>
                <div class="feature-desc">查看健康指标与用药提醒</div>
            </div>
        </a>
        
        <a href="photos.html" class="feature-card" aria-label="相册">
            <div class="feature-icon">
                <i class="fas fa-images"></i>
            </div>
            <div class="feature-text">
                <div class="feature-title">家庭相册</div>
                <div class="feature-desc">浏览珍贵回忆</div>
            </div>
        </a>
    </div>
    
    <!-- 语音指令按钮 -->
    <button class="voice-button" aria-label="语音指令" role="button">
        <i class="fas fa-microphone"></i>
    </button>
    
    <!-- 底部导航 -->
    <nav class="bottom-nav" role="navigation" aria-label="主导航">
        <a href="home.html" class="nav-item active" aria-label="首页">
            <i class="fas fa-home nav-icon"></i>
            <span class="nav-text">首页</span>
        </a>
        <a href="video-call.html" class="nav-item" aria-label="视频通话">
            <i class="fas fa-video nav-icon"></i>
            <span class="nav-text">视频</span>
        </a>
        <a href="health.html" class="nav-item" aria-label="健康管理">
            <i class="fas fa-heartbeat nav-icon"></i>
            <span class="nav-text">健康</span>
        </a>
        <a href="photos.html" class="nav-item" aria-label="相册">
            <i class="fas fa-images nav-icon"></i>
            <span class="nav-text">相册</span>
        </a>
    </nav>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const emergencyBtn = document.querySelector('.emergency-button');
            let pressTimer;
            
            // 紧急按钮相关代码
            if (emergencyBtn) {
                emergencyBtn.addEventListener('mousedown', function() {
                    pressTimer = window.setTimeout(function() {
                        alert('正在拨打紧急联系人电话...');
                    }, 3000);
                });
                
                emergencyBtn.addEventListener('mouseup', function() {
                    clearTimeout(pressTimer);
                });
                
                emergencyBtn.addEventListener('mouseleave', function() {
                    clearTimeout(pressTimer);
                });
                
                // 触摸设备支持
                emergencyBtn.addEventListener('touchstart', function(e) {
                    pressTimer = window.setTimeout(function() {
                        alert('正在拨打紧急联系人电话...');
                    }, 3000);
                    e.preventDefault();
                });
                
                emergencyBtn.addEventListener('touchend', function() {
                    clearTimeout(pressTimer);
                });
            }
            
            // 语音按钮点击事件
            const voiceBtn = document.querySelector('.voice-button');
            voiceBtn.addEventListener('click', function() {
                alert('请说出您的指令...');
            });
            
            // 滑动解锁功能
            const slider = document.querySelector('.card .fa-unlock-alt').parentNode;
            const sliderTrack = slider.parentNode;
            const maxSlide = sliderTrack.offsetWidth - slider.offsetWidth - 10; // 减去边距
            let isDragging = false;
            let startX = 0;
            let currentX = 0;
            
            // 设置初始样式
            slider.style.cursor = 'grab';
            
            // PC鼠标事件
            slider.addEventListener('mousedown', function(e) {
                isDragging = true;
                startX = e.clientX - slider.offsetLeft;
                slider.style.cursor = 'grabbing';
                e.preventDefault();
            });
            
            document.addEventListener('mousemove', function(e) {
                if (!isDragging) return;
                
                currentX = e.clientX - startX;
                // 限制滑块在轨道内
                if (currentX < 0) currentX = 0;
                if (currentX > maxSlide) currentX = maxSlide;
                
                slider.style.left = currentX + 'px';
                
                // 如果滑到最右边，触发解锁
                if (currentX >= maxSlide * 0.9) {
                    unlockSuccess();
                }
            });
            
            document.addEventListener('mouseup', function() {
                if (isDragging) {
                    isDragging = false;
                    slider.style.cursor = 'grab';
                    
                    // 如果没有滑到尽头，则返回原位
                    if (currentX < maxSlide * 0.9) {
                        slider.style.left = '0.5rem';
                        slider.style.transition = 'left 0.3s ease';
                        setTimeout(() => {
                            slider.style.transition = '';
                        }, 300);
                    }
                }
            });
            
            // 移动设备触摸事件
            slider.addEventListener('touchstart', function(e) {
                isDragging = true;
                startX = e.touches[0].clientX - slider.offsetLeft;
                e.preventDefault();
            });
            
            document.addEventListener('touchmove', function(e) {
                if (!isDragging) return;
                
                currentX = e.touches[0].clientX - startX;
                // 限制滑块在轨道内
                if (currentX < 0) currentX = 0;
                if (currentX > maxSlide) currentX = maxSlide;
                
                slider.style.left = currentX + 'px';
                
                // 如果滑到最右边，触发解锁
                if (currentX >= maxSlide * 0.9) {
                    unlockSuccess();
                }
            });
            
            document.addEventListener('touchend', function() {
                if (isDragging) {
                    isDragging = false;
                    
                    // 如果没有滑到尽头，则返回原位
                    if (currentX < maxSlide * 0.9) {
                        slider.style.left = '0.5rem';
                        slider.style.transition = 'left 0.3s ease';
                        setTimeout(() => {
                            slider.style.transition = '';
                        }, 300);
                    }
                }
            });
            
            function unlockSuccess() {
                // 解锁成功后的动作
                isDragging = false;
                slider.innerHTML = '<i class="fas fa-check" style="font-size: 2rem; color: white;"></i>';
                slider.style.backgroundColor = '#4CAF50';
                setTimeout(() => {
                    alert('解锁成功');
                    // 重置滑块
                    slider.style.left = '0.5rem';
                    slider.style.backgroundColor = '#9ca3af';
                    slider.innerHTML = '<i class="fas fa-unlock-alt" style="font-size: 2rem; color: white;"></i>';
                }, 500);
            }
        });
    </script>
</body>
</html> 